{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_3 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_4 = {\n  class: \"table\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"pagination\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", {\n    class: \"text-center mb-4\"\n  }, \"Stock Dashboard\", -1 /* HOISTED */)), _createCommentVNode(\" ETF Symbol Input & Fetch Button \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.etfSymbol = $event),\n    class: \"form-control\",\n    placeholder: \"Enter ETF symbol (e.g., QQQ)\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.etfSymbol]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.fetchHoldings && $setup.fetchHoldings(...args)),\n    class: \"btn btn-primary\"\n  }, \"Fetch Holdings\")]), _createCommentVNode(\" Stock Table \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Symbol\"), _createElementVNode(\"th\", null, \"Description\"), _createElementVNode(\"th\", null, \"Weight (%)\"), _createElementVNode(\"th\", null, \"Action\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedHoldings, stock => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: stock.symbol\n    }, [_createElementVNode(\"td\", null, _toDisplayString(stock.symbol), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(stock.description), 1 /* TEXT */), _createElementVNode(\"td\", {\n      class: _normalizeClass($setup.getChangeClass(stock.weight))\n    }, _toDisplayString(parseFloat(stock.weight).toFixed(2)) + \"% \", 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.viewStockDetails(stock.symbol),\n      class: \"btn btn-primary\"\n    }, \" View Details \", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" Pagination Controls \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.prevPage && $setup.prevPage(...args)),\n    disabled: $setup.currentPage === 1,\n    class: \"btn btn-secondary\"\n  }, \"Previous\", 8 /* PROPS */, _hoisted_7), _createElementVNode(\"span\", null, \"Page \" + _toDisplayString($setup.currentPage) + \" of \" + _toDisplayString($setup.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.nextPage && $setup.nextPage(...args)),\n    disabled: $setup.currentPage === $setup.totalPages,\n    class: \"btn btn-secondary\"\n  }, \"Next\", 8 /* PROPS */, _hoisted_8)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_cache","$event","$setup","etfSymbol","placeholder","onClick","args","fetchHoldings","_hoisted_3","_hoisted_4","_Fragment","_renderList","paginatedHoldings","stock","key","symbol","_toDisplayString","description","_normalizeClass","getChangeClass","weight","parseFloat","toFixed","viewStockDetails","_hoisted_5","_hoisted_6","prevPage","disabled","currentPage","_hoisted_7","totalPages","nextPage","_hoisted_8"],"sources":["/Users/attiqrehman/Documents/StockInfoSystem_FrontEnd/frontend/src/components/StockDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <h2 class=\"text-center mb-4\">Stock Dashboard</h2>\n\n    <!-- ETF Symbol Input & Fetch Button -->\n    <div class=\"input-group mb-3\">\n      <input v-model=\"etfSymbol\" class=\"form-control\" placeholder=\"Enter ETF symbol (e.g., QQQ)\" />\n      <button @click=\"fetchHoldings\" class=\"btn btn-primary\">Fetch Holdings</button>\n    </div>\n\n    <!-- Stock Table -->\n    <div class=\"table-responsive\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th>Symbol</th>\n            <th>Description</th>\n            <th>Weight (%)</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"stock in paginatedHoldings\" :key=\"stock.symbol\">\n            <td>{{ stock.symbol }}</td>\n            <td>{{ stock.description }}</td>\n            <td :class=\"getChangeClass(stock.weight)\">\n              {{ parseFloat(stock.weight).toFixed(2) }}%\n            </td>\n            <td>\n              <button @click=\"viewStockDetails(stock.symbol)\" class=\"btn btn-primary\">\n                View Details\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Pagination Controls -->\n    <div class=\"pagination\">\n      <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"btn btn-secondary\">Previous</button>\n      <span>Page {{ currentPage }} of {{ totalPages }}</span>\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"btn btn-secondary\">Next</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { ref, computed, onMounted } from \"vue\";\n\nexport default {\n  setup() {\n    const etfSymbol = ref(\"QQQ\"); // Default ETF symbol\n    const holdings = ref([]);\n    const currentPage = ref(1);\n    const itemsPerPage = 10; // Show 10 per page\n\n    // Fetch ETF Holdings\n    const fetchHoldings = async () => {\n      try {\n        const response = await axios.get(`http://localhost:3000/stocks/etf-holdings?symbol=${etfSymbol.value}`);\n        holdings.value = response.data.holdings || [];\n        currentPage.value = 1; // Reset to first page\n      } catch (error) {\n        console.error(\"Error fetching holdings:\", error);\n      }\n    };\n\n    // Fetch data automatically when component loads\n    onMounted(fetchHoldings);\n\n    // Pagination Computed Properties\n    const totalPages = computed(() => Math.ceil(holdings.value.length / itemsPerPage));\n\n    const paginatedHoldings = computed(() => {\n      const start = (currentPage.value - 1) * itemsPerPage;\n      return holdings.value.slice(start, start + itemsPerPage);\n    });\n\n    // Pagination Methods\n    const nextPage = () => {\n      if (currentPage.value < totalPages.value) {\n        currentPage.value++;\n      }\n    };\n\n    const prevPage = () => {\n      if (currentPage.value > 1) {\n        currentPage.value--;\n      }\n    };\n\n    // View Stock Details (Route to Another Page)\n    const viewStockDetails = (symbol) => {\n      window.location.href = `/stock/${symbol}`; // Replace with Vue Router if needed\n    };\n\n    // Class for Weight Change (Optional Styling)\n    const getChangeClass = (weight) => {\n      return parseFloat(weight) >= 0.05 ? \"text-success\" : \"text-danger\";\n    };\n\n    return {\n      etfSymbol,\n      holdings,\n      fetchHoldings,\n      paginatedHoldings,\n      currentPage,\n      totalPages,\n      nextPage,\n      prevPage,\n      viewStockDetails,\n      getChangeClass,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.table {\n  text-align: center;\n  background: var(--bg-color);\n  color: var(--text-color);\n}\n\n.btn-primary {\n  background-color: var(--btn-bg);\n  color: var(--btn-text);\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.text-success {\n  color: green;\n}\n\n.text-danger {\n  color: red;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EAIpBA,KAAK,EAAC;AAAkB;;EAMxBA,KAAK,EAAC;AAAkB;;EACpBA,KAAK,EAAC;AAAO;mBAZ1B;;EAuCSA,KAAK,EAAC;AAAY;mBAvC3B;mBAAA;;uBACEC,mBAAA,CA2CM,OA3CNC,UA2CM,G,0BA1CJC,mBAAA,CAAiD;IAA7CH,KAAK,EAAC;EAAkB,GAAC,iBAAe,sBAE5CI,mBAAA,qCAAwC,EACxCD,mBAAA,CAGM,OAHNE,UAGM,G,gBAFJF,mBAAA,CAA6F;IANnG,uBAAAG,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMsBC,MAAA,CAAAC,SAAS,GAAAF,MAAA;IAAEP,KAAK,EAAC,cAAc;IAACU,WAAW,EAAC;iDAA5CF,MAAA,CAAAC,SAAS,E,GACzBN,mBAAA,CAA8E;IAArEQ,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEJ,MAAA,CAAAK,aAAA,IAAAL,MAAA,CAAAK,aAAA,IAAAD,IAAA,CAAa;IAAEZ,KAAK,EAAC;KAAkB,gBAAc,E,GAGvEI,mBAAA,iBAAoB,EACpBD,mBAAA,CAyBM,OAzBNW,UAyBM,GAxBJX,mBAAA,CAuBQ,SAvBRY,UAuBQ,G,0BAtBNZ,mBAAA,CAOQ,gBANNA,mBAAA,CAKK,aAJHA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAoB,YAAhB,aAAW,GACfA,mBAAA,CAAmB,YAAf,YAAU,GACdA,mBAAA,CAAe,YAAX,QAAM,E,wBAGdA,mBAAA,CAaQ,iB,kBAZNF,mBAAA,CAWKe,SAAA,QAjCfC,WAAA,CAsB8BT,MAAA,CAAAU,iBAAiB,EAA1BC,KAAK;yBAAhBlB,mBAAA,CAWK;MAXmCmB,GAAG,EAAED,KAAK,CAACE;QACjDlB,mBAAA,CAA2B,YAAAmB,gBAAA,CAApBH,KAAK,CAACE,MAAM,kBACnBlB,mBAAA,CAAgC,YAAAmB,gBAAA,CAAzBH,KAAK,CAACI,WAAW,kBACxBpB,mBAAA,CAEK;MAFAH,KAAK,EAzBtBwB,eAAA,CAyBwBhB,MAAA,CAAAiB,cAAc,CAACN,KAAK,CAACO,MAAM;wBAClCC,UAAU,CAACR,KAAK,CAACO,MAAM,EAAEE,OAAO,OAAM,IAC3C,wBACAzB,mBAAA,CAIK,aAHHA,mBAAA,CAES;MAFAQ,OAAK,EAAAJ,MAAA,IAAEC,MAAA,CAAAqB,gBAAgB,CAACV,KAAK,CAACE,MAAM;MAAGrB,KAAK,EAAC;OAAkB,gBAExE,iBA/Bd8B,UAAA,E;wCAsCI1B,mBAAA,yBAA4B,EAC5BD,mBAAA,CAIM,OAJN4B,UAIM,GAHJ5B,mBAAA,CAAmG;IAA1FQ,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEJ,MAAA,CAAAwB,QAAA,IAAAxB,MAAA,CAAAwB,QAAA,IAAApB,IAAA,CAAQ;IAAGqB,QAAQ,EAAEzB,MAAA,CAAA0B,WAAW;IAAQlC,KAAK,EAAC;KAAoB,UAAQ,iBAxChGmC,UAAA,GAyCMhC,mBAAA,CAAuD,cAAjD,OAAK,GAAAmB,gBAAA,CAAGd,MAAA,CAAA0B,WAAW,IAAG,MAAI,GAAAZ,gBAAA,CAAGd,MAAA,CAAA4B,UAAU,kBAC7CjC,mBAAA,CAAwG;IAA/FQ,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEJ,MAAA,CAAA6B,QAAA,IAAA7B,MAAA,CAAA6B,QAAA,IAAAzB,IAAA,CAAQ;IAAGqB,QAAQ,EAAEzB,MAAA,CAAA0B,WAAW,KAAK1B,MAAA,CAAA4B,UAAU;IAAEpC,KAAK,EAAC;KAAoB,MAAI,iBA1CrGsC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}